# Brain-AI RAG++ Environment Configuration
# Copy this file to .env and fill in your values

# === API Keys (REQUIRED) ===
DEEPSEEK_API_KEY=sk-your-deepseek-api-key-here
API_KEY=your-secure-api-key-for-authentication

# === Operating Mode ===
SAFE_MODE=0                    # 0=production, 1=safe mode (stub LLM)
LLM_STUB=0                     # 0=real DeepSeek, 1=stub responses

# === LLM Configuration ===
REASONING_MODEL=deepseek-r1    # Model for complex reasoning
CHAT_MODEL=deepseek-chat       # Model for fast responses
SOLVER_MODEL=deepseek-chat     # Model for multi-agent solvers
DEEPSEEK_ENDPOINT=https://api.deepseek.com/v1/chat/completions
DS_TIMEOUT=60                  # DeepSeek API timeout (seconds)
DS_MAX_RETRIES=3               # Max retry attempts

# === Evidence Gating ===
EVIDENCE_TAU=0.70              # Confidence threshold (0.0-1.0)
                               # Answers below this are refused

# === Multi-Agent Configuration ===
MULTI_AGENT_ENABLED=true       # Enable multi-agent correction
N_SOLVERS=3                    # Number of solver agents

# === Retrieval & Reranking ===
TOP_K_RETRIEVAL=50             # Initial retrieval count
TOP_K_FINAL=10                 # After reranking

# === Embeddings ===
EMBEDDINGS_BACKEND=cpu         # cpu or gpu
EMBEDDING_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_SEED=1337

# === Security ===
REQUIRE_API_KEY_FOR_WRITES=1   # Require API key for /index, /admin
CORS_ORIGINS=http://localhost:3000,https://your-ui.example
RATE_LIMIT_RPM=120             # Requests per minute per client

# === Storage ===
INDEX_SNAPSHOT=./data/index.json
KILL_PATH=/tmp/brain.KILL
FACTS_DB_PATH=./data/facts.db

# === Monitoring ===
METRICS_ENABLED=1              # Enable Prometheus metrics
STRUCTURED_LOGGING=1           # JSON structured logs
LOG_LEVEL=INFO                 # DEBUG, INFO, WARNING, ERROR

# === Limits ===
MAX_DOC_BYTES=200000           # Max document size (bytes)
MAX_QUERY_TOKENS=256           # Max query length (tokens)
HTTP_CLIENT_TIMEOUT=10         # HTTP client timeout (seconds)
OCR_TIMEOUT=30                 # OCR service timeout (seconds)
LLM_TIMEOUT=60                 # LLM call timeout (seconds)
REQUEST_TIMEOUT_SECONDS=20     # Overall request timeout

# === Optional: Verification Tools ===
ENABLE_VERIFICATION=false      # Enable math/code verification
ENABLE_CODE_SANDBOX=false      # Enable code execution (use with caution!)

# === Optional: OCR Service ===
OCR_ENDPOINT=http://localhost:8001/ocr

